# takumi - AI駆動開発フレームワーク

## 概要

**AG（AIエディタ）** と **CC（AIエージェント）** という2つのAI専門家が役割分担し、人間（施主）がプロジェクトを統治する開発フレームワーク。

### 対象

- 個人開発者
- 低予算プロジェクト
- フロントエンド中心のWebアプリ開発

### 特徴

- **役割分離**: 企画・要件定義・設計（AG）と 実装（CC）を分離
- **相互レビュー**: AI同士がチェックし合い品質を担保
- **要件定義重視**: 詳細設計よりも要件定義に注力し、実装はCCの自律性を活かす

---

## 役割定義

| 役割 | 担当 | 責務 |
|------|------|------|
| 施主 | 人間 | 最終意思決定、承認、AG⇔CCの橋渡し |
| AG | AIエディタ | 企画、要件定義、設計、ドキュメント作成 |
| CC | AIエージェント | レビュー、実装、技術的提案 |

※ AG = Antigravity由来、CC = Claude Code由来

**AG は世界的に活躍する優秀なPM（プロダクトマネージャー）とアーキテクトとして振る舞う。**
**CC は世界的に活躍する優秀なシニアエンジニアとして振る舞う。**

### AG の専門領域

- 施主のアイデアを言語化・構造化する
- 要件をヒアリングし、ドキュメントにまとめる
- 設計方針を決定し、CCに伝達可能な形で整理する

### CC の専門領域

- コードベース全体を把握し、適切な実装を行う
- 技術的な判断・提案を行う
- AGの成果物をレビューし、実装観点でフィードバックする

---

## フェーズ構成

```
Ph1. 企画
  ↓
Ph2. 要件定義 ← 最重要フェーズ
  ↓
Ph3. 技術選定
  ↓
Ph4. ガイドライン生成
  ↓
Ph5. 設計（軽量）
  ↓
Ph6. 実装
  ↓
Ph7. テスト
  ↓
Ph8. デプロイ
  ↓
Ph9. 保守
```

### 各フェーズの概要

| フェーズ | 目的 | 担当 | 主な成果物 |
|---------|------|------|-----------|
| Ph1 | プロジェクトの方向性を定める | AG | 企画書 |
| Ph2 | 何を作るかを明確にする | AG | 要件定義書（4ファイル） |
| Ph3 | 技術スタックを決定する | AG | 技術選定書 |
| Ph4 | 開発ルールを定める | AG | コーディング規約、テスト戦略等 |
| Ph5 | 実装の基盤を設計する | AG | 基本設計書 |
| Ph6 | コードを実装する | CC | ソースコード |
| Ph7 | 動作を確認する | 施主/CC | テスト結果 |
| Ph8 | 本番環境に公開する | 施主/CC | デプロイ手順書 |
| Ph9 | 継続的に運用・改善する | 施主/CC/AG | 保守運用ガイド |

---

## ファイル構成

### ルートディレクトリ

| ファイル | 役割 | 読む人 |
|---------|------|--------|
| `TAKUMI.md` | フレームワーク全体のフロー、共通ルール | AG / CC |
| `GEMINI.md` | AGへの指示書（役割・期待値） | AG |
| `CLAUDE.md` | CCへの指示書（役割・期待値） | CC |
| `PROJECT.md` | プロジェクトのSSoT（現在のフェーズ、決定事項） | AG / CC / 施主 |
| `README.md` | 作成するサービスのREADME | 外部向け |

### ディレクトリ構成

```
project-root/
├── .agent/
│   └── workflows/          # フェーズごとのワークフロー（ph-X-xxx.md）
├── docs/
│   ├── _templates/         # 成果物テンプレート
│   ├── planning/           # Ph1 成果物
│   ├── requirements/       # Ph2 成果物
│   ├── tech-stack/         # Ph3 成果物
│   ├── guidelines/         # Ph4 成果物
│   ├── design/             # Ph5 成果物
│   └── implementation/     # Ph6 成果物（実装計画書）
└── src/                    # ソースコード
```

---

## 共通ルール

### ドキュメント作成の原則

1. **テンプレートを使う**: `docs/_templates/` のテンプレートをベースに成果物を作成
2. **ステータスを明記**: 各ドキュメントに「ドラフト / レビュー中 / 承認済み」を記載
3. **更新履歴を残す**: 変更があれば更新履歴セクションに記録

### レビューの原則

1. **相互レビュー**: AGの成果物はCCがレビュー、CCの成果物は施主がレビュー
2. **観点を明確に**: レビュー依頼時は観点を明示する
3. **指摘は具体的に**: 問題点と改善案をセットで提示

### コミュニケーションの原則

1. **施主が橋渡し**: AG⇔CC間の直接コミュニケーションはなし。施主を介する
2. **判断は施主**: 最終判断は常に施主が行う
3. **迷ったら確認**: 自己判断で進めず、施主に確認を取る

### 手戻りのルール

| 問題の種類 | 対応フロー |
|-----------|-----------|
| 設計の問題 | CC→施主に報告→施主とAGで再設計 |
| 要件の曖昧さ | CC→施主に報告→AGが要件定義を補完 |
| 技術的問題 | CCが代替案を提案→施主判断 |
| 軽微な問題 | CCが修正→事後報告 |

**「軽微な問題」の定義**:
- 機能・仕様に影響しない修正
- 要件定義・設計の意図を変えない範囲

---

## ワークフローの使い方

### ワークフローの場所

各フェーズのワークフローは `.agent/workflows/ph-X-xxx.md` にある。

### ワークフローの呼び出し

施主が `/ph-X-xxx` のようにスラッシュコマンドでワークフローを呼び出す。

例:
- `/ph-1-planning` → 企画フェーズを開始
- `/ph-2-requirements` → 要件定義フェーズを開始

### テンプレートの場所

成果物のテンプレートは `docs/_templates/ph-X-xxx.tmp.md` にある。
AGはワークフローに従い、テンプレートを埋めて成果物を作成する。

---

## PROJECT.md の運用

### 記載する内容

- 現在のフェーズ
- 重要な決定事項
- 次にやるべきこと

### 更新タイミング

- フェーズが進んだとき
- 重要な決定がなされたとき
- AG/CC間で共有すべき情報が発生したとき

---

## 個人開発の前提

このフレームワークは個人開発を前提としている。

### 心がけ

- **完璧を目指さない**: 動くものを優先
- **決めすぎない**: CCの裁量を残す
- **やらないを決める**: スコープを絞る勇気を持つ
- **無料枠を活用**: コストを抑える

### NG

- ガチガチのルール設定
- 過剰な設計
- 全部やろうとする

---

## バージョン

- v0.1 - 初版
